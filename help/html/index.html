<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecInterp Help</title>
    <style>
        :root {
            --qgis-green: #589632;
            --secinterp-orange: #e67e22;
            --bg-color: #f8f9fa;
            --text-color: #333;
            --border-color: #ddd;
            --shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: white;
            padding: 20px;
            border-bottom: 4px solid var(--qgis-green);
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        header img {
            width: 48px;
            height: 48px;
        }

        header h1 {
            margin: 0;
            color: var(--qgis-green);
            font-size: 1.8rem;
        }

        .version {
            font-size: 0.9rem;
            color: #777;
            background: #eee;
            padding: 2px 8px;
            border-radius: 4px;
            vertical-align: middle;
            margin-left: 10px;
        }

        section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        h2 {
            color: var(--secinterp-orange);
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-top: 40px;
        }

        h2:first-of-type {
            margin-top: 0;
        }

        .requirements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
        }

        .grid-item {
            border: 1px solid var(--border-color);
            padding: 15px;
            border-radius: 6px;
            background-color: #fff;
        }

        .grid-item h3 {
            margin-top: 0;
            color: var(--qgis-green);
            font-size: 1.1rem;
        }

        details {
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            overflow: hidden;
            background: white;
        }

        summary {
            padding: 12px 20px;
            background-color: #f1f1f1;
            cursor: pointer;
            font-weight: bold;
            list-style: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        summary::after {
            content: '▶';
            font-size: 0.8rem;
            transition: transform 0.2s;
        }

        details[open] summary::after {
            transform: rotate(90deg);
        }

        details[open] summary {
            border-bottom: 1px solid var(--border-color);
            background-color: #e9ecef;
        }

        .details-content {
            padding: 15px 20px;
        }

        img.screenshot {
            max-width: 100%;
            height: auto;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin: 10px 0;
            display: block;
        }

        .tip {
            background-color: #fff4e5;
            border-left: 4px solid var(--secinterp-orange);
            padding: 10px 15px;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        footer {
            text-align: center;
            padding: 40px 20px;
            font-size: 0.85rem;
            color: #777;
            border-top: 1px solid var(--border-color);
            margin-top: 40px;
        }

        a {
            color: var(--qgis-green);
            text-decoration: none;
            font-weight: 500;
        }

        a:hover {
            text-decoration: underline;
        }

        ul {
            padding-left: 20px;
        }

        li {
            margin-bottom: 5px;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <img src="../../icon.png" alt="SecInterp Icon">
            <div>
                <h1>SecInterp <span class="version">v2.1</span></h1>
                <p style="margin: 5px 0 0 0; color: #666;">Section Interpreter for Geoscience in QGIS</p>
            </div>
        </header>

        <section>
            <p><strong>SecInterp</strong> is a powerful QGIS plugin designed to streamline the extraction and
                visualization of geological data for cross-section interpretation. It allows geologists to quickly
                generate topographic profiles, project geological outcrops, and analyze structural data in a unified 2D
                view.</p>
        </section>

        <h2>Key Features</h2>
        <section>
            <div class="requirements-grid" style="grid-template-columns: 1fr 1fr; gap: 30px;">
                <div>
                    <h3>Interactive Preview System</h3>
                    <ul>
                        <li><strong>Real-time Visualization</strong>: Instantly view topography, geology, and
                            structures.</li>
                        <li><strong>Performance</strong>: Uses <strong>Parallel Processing</strong> to handle complex
                            intersections without freezing QGIS.</li>
                        <li><strong>Adaptive LOD</strong>: Automatically adjusts data density based on zoom level.</li>
                    </ul>
                </div>
                <div>
                    <h3>Advanced Tools</h3>
                    <ul>
                        <li><strong>Measurement Tools</strong>: Calculate distances and slopes directly on the profile
                            with <strong>Snapping</strong>.</li>
                        <li><strong>Drillhole Support</strong>: Project 3D drillhole traces and geological intervals
                            onto the 2D plane.</li>
                    </ul>
                </div>
            </div>
            <img src="../../docs/images/ui_main_dialog.png" alt="Main Interface" class="screenshot"
                style="margin-top: 20px;">
        </section>

        <h2>Layer Data Requirements</h2>
        <div class="requirements-grid">
            <div class="grid-item">
                <h3>Raster Layer (DEM)</h3>
                <ul>
                    <li><strong>Data Type</strong>: Single-band or multi-band raster.</li>
                    <li><strong>Format</strong>: Any GDAL-supported format (GeoTIFF, IMG, ASCII Grid, etc.).</li>
                    <li><strong>Coordinate System</strong>: Must use a <strong>projected CRS</strong> (not geographic).
                    </li>
                    <li><strong>NoData</strong>: Should be properly defined in the raster metadata.</li>
                </ul>
            </div>
            <div class="grid-item">
                <h3>Crossline Layer</h3>
                <ul>
                    <li><strong>Geometry</strong>: LineString or MultiLineString.</li>
                    <li><strong>Features</strong>: Typically contains a single line feature defining the section
                        location.</li>
                    <li><strong>Orientation</strong>: The line direction determines the profile orientation (start to
                        end point).</li>
                </ul>
            </div>
            <div class="grid-item">
                <h3>Outcrop Layer (Geology)</h3>
                <ul>
                    <li><strong>Geometry</strong>: Polygon or MultiPolygon.</li>
                    <li><strong>Fields</strong>: Requires at least one field containing the geological unit identifier.
                    </li>
                    <li><strong>Quality</strong>: Polygons should be topologically correct (no gaps or overlaps).</li>
                </ul>
            </div>
            <div class="grid-item">
                <h3>Structural Layer</h3>
                <ul>
                    <li><strong>Geometry</strong>: Point.</li>
                    <li><strong>Fields</strong>: Requires <strong>Strike</strong> (0-360°) and <strong>Dip</strong>
                        (0-90°) numeric fields.</li>
                    <li><strong>Buffering</strong>: Points within the configured buffer distance of the crossline will
                        be projected.</li>
                </ul>
            </div>
        </div>

        <h2 style="margin-top: 40px;">Quick Start Guide</h2>

        <details>
            <summary>1. Prepare and Configure DEM</summary>
            <div class="details-content">
                <p>Select your elevation raster and the appropriate band from the DEM tab. The plugin automatically
                    calculates a suggested scale based on resolution.</p>
                <img src="../../docs/images/workflow_01_select_dem.png" alt="DEM Selection" class="screenshot">
            </div>
        </details>

        <details>
            <summary>2. Set Section Line</summary>
            <div class="details-content">
                <p>Choose the line layer that defines the location and orientation of your cross-section. Ensure it uses
                    the same projected CRS as your DEM.</p>
                <img src="../../docs/images/workflow_03_select_section_line.png" alt="Section Line Selection"
                    class="screenshot">
            </div>
        </details>

        <details>
            <summary>3. Geology & Structures</summary>
            <div class="details-content">
                <p>Configure geological outcrops and structural measurements to project them onto the section. Select
                    the lithology attribute and the dip/strike fields.</p>
                <img src="../../docs/images/workflow_05_geology_setup.png" alt="Geology Setup" class="screenshot">
                <img src="../../docs/images/workflow_06_structural_setup.png" alt="Structural Setup" class="screenshot">
            </div>
        </details>

        <details>
            <summary>4. Drillholes (Optional)</summary>
            <div class="details-content">
                <p>Configure Collar, Survey, and Interval layers to project drillhole data. Supports geometry-based
                    locations or manual coordinates.</p>
                <img src="../../docs/images/workflow_07_drillhole_collar_setup.png" alt="Collar Setup"
                    class="screenshot">
                <img src="../../docs/images/workflow_08_drillhole_survey_setup.png" alt="Survey Setup"
                    class="screenshot">
                <img src="../../docs/images/workflow_09_drillhole_interval_setup.png" alt="Interval Setup"
                    class="screenshot">
            </div>
        </details>

        <details>
            <summary>5. Preview and Analyze</summary>
            <div class="details-content">
                <p>Click <strong>Preview Profile</strong>. Use the measurement tools to calculate slopes and distances
                    directly on the view with snapping support.</p>
                <img src="../../docs/images/workflow_04_preview_generated.png" alt="Preview Generated"
                    class="screenshot">
                <div class="tip"><strong>Tip:</strong> Use the scroll wheel to zoom. The Adaptive Level of Detail (LOD)
                    system optimizes data density automatically as you navigate.</div>
            </div>
        </details>

        <section>
            <h2>Outputs</h2>
            <p>The plugin generates standard output files in your selected output folder:</p>
            <ul>
                <li><strong>topo_profile.csv</strong>: Distance and elevation points along the section.</li>
                <li><strong>geol_profile.csv / .shp</strong>: Geological units draped over the topography.</li>
                <li><strong>structural_profile.csv / .shp</strong>: Projected apparent dip lines.</li>
                <li><strong>drillhole_traces.shp</strong>: 3D projection of drillhole traces onto the 2D profile
                    section.</li>
                <li><strong>drillhole_intervals.shp</strong>: Visualization of geological intervals along drillhole
                    traces with attributes.</li>
                <li><strong>Image Exports</strong>: PNG, SVG, PDF formats available directly from the Export tab.</li>
            </ul>
        </section>

        <footer>
            <p>&copy; 2025 Juan M Bernales | <a href="../../docs/USER_GUIDE.md">Full User Guide</a> | <a
                    href="https://github.com/geociencio/sec_interp">GitHub Repository</a></p>
        </footer>
    </div>
</body>

</html>